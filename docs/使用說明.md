  時間偏移符號的用法詳解

  在 sb_schedule_at_offset 積木的「偏移時間」欄位中，您可以輸入各種 Tone.js
  所能理解的時間表示方式。這些時間都是相對於當前 `sb_tone_loop` 循環開始點的偏移量。

  一、基本音樂時間單位 (以時值命名)

  這是最常用的方式，直接表示音符的時值。數字前綴表示倍數。

   * `'1m'` / `'2m'` / `...`：小節 (Measure)
       * '1m'：一小節。
       * '2m'：兩小節。
   * `'1n'` / `'2n'` / `'4n'` / `'8n'` / `'16n'` / `'32n'` / `...`：全音符及細分 (Note)
       * '1n'：全音符 (Whole Note)。
       * '2n'：二分音符 (Half Note)。
       * '4n'：四分音符 (Quarter Note)。
       * '8n'：八分音符 (Eighth Note)。
       * '16n'：十六分音符 (Sixteenth Note)。
       * '32n'：三十二分音符 (Thirty-second Note)。
   * `'t'` 結尾：三連音 (Triplet)
       * 在音符時值後加上 't' 表示三連音。
       * '8t'：八分三連音 (三個八分音符在兩個八分音符的時間內完成)。
       * '4t'：四分三連音。
   * `.` 結尾：附點音符 (Dotted Note)
       * 在音符時值後加上 . 表示附點音符，使其時值增加一半。
       * '4n.'：附點四分音符。
       * '8n.'：附點八分音符。
   * 秒數 / 毫秒數：`'s'` / `'ms'`
       * '1s'：一秒鐘。
       * '500ms'：五百毫秒。

  範例：
   * '0'：循環開始點 (或 '0s')。
   * '4n'：循環開始點後的四分音符時長。
   * '8t'：循環開始點後的八分三連音時長。
   * '1s'：循環開始點後的一秒鐘。

  ---

  二、小節:拍子:細分 (Measure:Beat:Subdivision) 格式

  這是另一種非常精確且常用的表示法，尤其適合在一個小節內排程複雜的節奏模式。格式為 '小節:拍子:細分'，預設以 4/4
  拍為基準，其中 1 個拍子等於 4 個 16 分音符。

   * `'0:0:0'`：
       * 第一個 0：第 0 小節 (即當前循環的小節)。
       * 第二個 0：第 0 拍 (即第一拍的開始)。
       * 第三個 0：第 0 個細分 (即第一拍的第 1 個 16 分音符)。
       * 總之，`'0:0:0'` 表示當前循環的起始位置 (第一小節第一拍第一個 16 分音符)。

   * `'0:1:0'`：
       * 第 0 小節的第 1 拍 (即第二拍的開始)。

   * `'0:0:2'`：
       * 第 0 小節的第 0 拍（第一拍）的第 2 個細分（即第 3 個 16 分音符）。

  範例：
   * '0' (等同於 '0:0:0')：小節的第一個拍點。
   * '0:1' (等同於 '0:1:0')：小節的第二個拍點。
   * '0:2' (等同於 '0:2:0')：小節的第三個拍點。
   * '0:3' (等同於 '0:3:0')：小節的第四個拍點。
   * '0:0:1'：第一拍的第二個 16 分音符。
   * '0:0:2'：第一拍的第三個 16 分音符。
   * '0:0:3'：第一拍的第四個 16 分音符。
   * '0:1:2'：第二拍的第三個 16 分音符。

  ---

  三、範例：創建一個簡單的搖滾節奏

  假設您的 sb_tone_loop 設定為 每 '1m' 執行 (每小節循環一次)，以下是如何使用 sb_schedule_at_offset 來排程一個簡單的 4/4
  拍搖滾節奏：

   * 大鼓 (Kick - 例如 C1)：
       * 時間偏移：'0' (第一拍)
       * 時間偏移：'0:2' (第三拍)
   * 小鼓 (Snare - 例如 D1)：
       * 時間偏移：'0:1' (第二拍)
       * 時間偏移：'0:3' (第四拍)
   * 踩鈸 (Closed Hi-hat - 例如 F1)：
       * 時間偏移：'0:0:0' (第一拍的第 1 個 16 分音符)
       * 時間偏移：'0:0:2' (第一拍的第 3 個 16 分音符)
       * 時間偏移：'0:1:0' (第二拍的第 1 個 16 分音符)
       * 時間偏移：'0:1:2' (第二拍的第 3 個 16 分音符)
       * 時間偏移：'0:2:0' (第三拍的第 1 個 16 分音符)
       * 時間偏移：'0:2:2' (第三拍的第 3 個 16 分音符)
       * 時間偏移：'0:3:0' (第四拍的第 1 個 16 分音符)
       * 時間偏移：'0:3:2' (第四拍的第 3 個 16 分音符)

  將這些 sb_schedule_at_offset 積木放在 sb_tone_loop 積木內部，並在各自內部放入 jazzkit_play_drum
  積木，就可以創建一個精確的搖滾節奏循環。

  ---

  四、重要注意事項：

   * 所有這些時間偏移都是相對於其父級 `sb_tone_loop` 循環每次迭代的開始時間。
   * 這些排程只有在 Tone.Transport 運行時 (即您使用 啟動指揮 積木後) 才會生效。
   * sb_schedule_at_offset 積木可以放入任何音樂相關的積木，例如 播放音符 (sb_play_note) 來排程旋律或和弦。

  透過這些符號，您可以非常精確地在循環中編排各種音樂事件。


  「設定 ADSR」積木的使用方法

  1. 什麼是 ADSR？

  ADSR 是「音色包絡
  (Envelope)」的四個階段，它描述了聲音從被觸發到完全消失的音量變化過程。透過調整這些參數，您可以塑造音符的特性，讓它們聽
  起來像敲擊樂、弦樂、風琴或其他各種音色。

   * A (Attack - 起動):
       * 從音符被觸發（例如按下琴鍵）到聲音達到最大音量所需的時間。
       * 短 Attack (例如 0.01 秒): 聲音迅速響起，例如打擊樂器或鋼琴。
       * 長 Attack (例如 0.5 秒): 聲音緩慢地從無到有，例如弦樂或パッド (Pad) 音色。

   * D (Decay - 衰減):
       * 聲音從最大音量衰減到持續音量 (Sustain Level) 所需的時間。
       * 短 Decay: 聲音在達到峰值後迅速減弱。
       * 長 Decay: 聲音緩慢減弱，聽起來更自然。

   * S (Sustain - 持續):
       * 聲音在按鍵持續按住期間所維持的音量水平。這個值是一個比率（通常是 0 到 1）。
       * 高 Sustain: 聲音在按鍵按住期間維持較高的音量，例如風琴。
       * 低 Sustain: 聲音快速衰減到較低的音量，但仍持續發聲。

   * R (Release - 釋放):
       * 從按鍵放開後，聲音從持續音量衰減到完全靜止所需的時間。
       * 短 Release: 音符放開後立即停止發聲。
       * 長 Release: 音符放開後聲音緩慢地逐漸消失，產生殘響效果。

  2. 積木的用法：

   1. 從工具箱中拖曳 設定 ADSR 積木到工作區。
   2. 為 A, D, S, R 四個數值欄位輸入您想要的值。
       * A (Attack): 時間，單位秒。範圍通常是 0 到 10，預設為 0.01。
       * D (Decay): 時間，單位秒。範圍通常是 0 到 10，預設為 0.1。
       * S (Sustain): 音量比率，範圍是 0.0 (靜音) 到 1.0 (最大音量)，預設為 0.5。
       * R (Release): 時間，單位秒。範圍通常是 0 到 10，預設為 1.0。

  3. 影響對象：

   * 重要提示： 目前，此 設定 ADSR 積木僅影響預設的合成器 (DefaultSynth / `window.audioEngine.synth`) 的音色包絡。
   * 它不會影響您透過「創建樂器」積木創建的其他自訂合成器（如 AMSynth、FMSynth）或取樣器。
   * 如果您需要為其他自訂樂器設定 ADSR，目前需要另外添加相關的積木功能。

  4. 範例音色設定：

   * 鋼琴般的音色：
       * A = 0.01 (快速啟動)
       * D = 0.2 (快速衰減)
       * S = 0.0 (無持續音，但聲音會根據 Release 持續)
       * R = 0.5 (中等釋放，模擬琴弦共鳴)

   * 弦樂般的音色：
       * A = 0.5 (緩慢啟動)
       * D = 0.8 (緩慢衰減)
       * S = 0.8 (維持較高音量)
       * R = 1.0 (長釋放，模擬弓弦效果)

   * 打擊樂般的音色：
       * A = 0.01 (極速啟動)
       * D = 0.1 (快速衰減)
       * S = 0.0 (無持續音)
       * R = 0.1 (快速釋放)

  您可以嘗試不同的數值組合，來聽聽聲音的變化！


自製取樣
原則上，錄製一個樂器的 C4 音高作為取樣，是一個非常好的開始點。 Tone.js 的 Sampler (取樣器)
  專為此目的設計，它會將你提供的單一音高樣本 (或少量樣本) 進行音高位移，以在整個鍵盤上播放不同的音高。

  然而，為了獲得好的取樣品質，有一些重要的注意事項：

   1. 音高選擇 (C4): 錄製 C4 是製作單一取樣樂器的標準做法。這是因為 C4
      是一個中心音高，取樣器可以從這個基準音高向上或向下準確地調整音高，聽起來會比較自然。
   2. 錄音品質：
       * 清晰度： 在安靜的環境中錄音，避免背景噪音。
       * 純淨度： C4 音符應該清晰可辨，沒有失真。
       * 起始點/結束點： 確保音符的攻擊 (Attack) 和釋放 (Release) 部分沒有被截斷，並且沒有不必要的點擊聲。
   3. 取樣長度：
       * 取樣應該足夠長，以捕捉樂器自然的衰減。太短會聽起來很突然。
       * Tone.Sampler 的 release 參數可以控制按鍵釋放後聲音持續的時間，但它不能彌補過短的原始取樣。
   4. 文件格式： 常見的音訊格式如 .mp3、.wav、.ogg 都可以。
       * .mp3 壓縮率高，檔案小，但可能會引入一些音質損失。
       * .wav 是無損格式，音質最好，但檔案較大。對於單一取樣，通常推薦使用 .wav 獲得最佳音質。
   5. `baseUrl` 和 `urls` 設定：
       * 確保 createInstrument 積木中 Sampler 類型所設定的 baseUrl 指向您放置音訊檔案的目錄。
       * 確保 urls 中的映射使用您錄製的檔案的正確檔名（例如 "C4": "my_piano_c4.mp3"）。

  `Tone.js` Sampler 如何使用單一取樣：
  如果您只提供一個 "C4" 的取樣，Tone.js 會自動調整該取樣的音高和播放速度，以在鍵盤上播放其他音符。這樣做對於接近 C4
  的音符效果最好，但對於距離 C4 太遠的音符（非常高或非常低），聲音聽起來可能會變得不那麼自然或有些失真。
