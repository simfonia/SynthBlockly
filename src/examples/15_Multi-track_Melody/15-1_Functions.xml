<xml xmlns="https://developers.google.com/blockly/xml">
  <block type="sb_comment" id="c1" x="10" y="10">
    <field name="COMMENT">【15-1: 函式多軌並行】&#10;&#10;此範例展示如何利用「函式」來模擬獨立音軌。&#10;1. 建立 Violin 與 Piano 兩個函式。&#10;2. 函式開頭先切換音源，確保聲音正確。&#10;3. 主程式連續呼叫兩個函式，兩條旋律就會同時響起。</field>
  </block>
  <block type="sb_instrument_container" id="c_violin" x="10" y="150">
    <field name="NAME">Violin</field>
    <statement name="STACK">
      <block type="sb_create_sampler_instrument" id="v1">
        <field name="SAMPLER_TYPE">VIOLIN_SUSTAIN</field>
      </block>
    </statement>
  </block>
  <block type="sb_instrument_container" id="c_piano" x="10" y="250">
    <field name="NAME">Piano</field>
    <statement name="STACK">
      <block type="sb_create_sampler_instrument" id="p1">
        <field name="SAMPLER_TYPE">DEFAULT</field>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="f_violin" x="350" y="150">
    <field name="NAME">小提琴聲部</field>
    <statement name="STACK">
      <block type="sb_select_current_instrument" id="s1">
        <field name="NAME">Violin</field>
        <next>
          <block type="sb_play_melody" id="m1">
            <field name="MELODY_STRING">D4Q, E4Q, F4H, RH, A4Q, G4Q, F4Q, E4Q, D4W</field>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="f_piano" x="350" y="300">
    <field name="NAME">鋼琴聲部</field>
    <statement name="STACK">
      <block type="sb_select_current_instrument" id="s2">
        <field name="NAME">Piano</field>
        <next>
          <block type="sb_play_melody" id="m2">
            <field name="MELODY_STRING">RW, D3Q, E3Q, F3H, G3Q, A3Q, D3W</field>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="sb_transport_set_bpm" id="t1" x="10" y="400">
    <value name="BPM">
      <shadow type="math_number">
        <field name="NUM">80</field>
      </shadow>
    </value>
    <next>
      <block type="procedures_callnoreturn" id="call1">
        <mutation name="小提琴聲部"></mutation>
        <next>
          <block type="procedures_callnoreturn" id="call2">
            <mutation name="鋼琴聲部"></mutation>
          </block>
        </next>
      </block>
    </next>
  </block>
</xml>