<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>如何使用「創建自訂取樣器」積木</title>
    <style>
        body { font-family: sans-serif; line-height: 1.6; padding: 20px; }
        h1, h2 { border-bottom: 1px solid #ccc; padding-bottom: 5px; }
        code { background-color: #f4f4f4; padding: 2px 6px; border-radius: 4px; }
        .container { max-width: 800px; margin: 0 auto; }
        .important { background-color: #fffbe6; border-left: 4px solid #ffc107; padding: 10px; margin: 15px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>如何使用「創建自訂取樣器」積木</h1>
        <p>這個積木讓你從自己的音訊樣本創建一個全新的樂器。</p>

        <h2>運作原理：重新取樣 (Resampling)</h2>
        <p>
            這個積木的核心是基於 Tone.js 強大的 <code>Sampler</code> (取樣器) 功能，其運作依賴一種稱為 <strong>數位音訊重新取樣 (Digital Audio Resampling)</strong> 的技術。
        </p>
        <ul>
            <li><strong>單一樣本 (Single Sample)</strong>：如果你只提供一個音訊樣本（例如，一段小提琴 C4 音高的錄音），取樣器就能夠產生完整的音高範圍。當你需要它播放一個更高的音（如 E4）時，它會加速播放該樣本；當你需要一個更低的音（如 A3）時，它則會放慢播放。這使得單一聲音檔案就能覆蓋整個鍵盤。</li>
            <li><strong>多重樣本 (Multisampling)</strong>：為了獲得更真實、更高品質的聲音，你可以提供在不同音高錄製的多個樣本（例如 C4, G4, C5, G5...）。這種做法稱為「多重取樣」。當你彈奏一個音符時，取樣器會聰明地選取最接近的原始樣本，並只進行少量的重新取樣。這樣可以最大限度地減少因音高變化過大而可能出現的音質劣化，從而獲得更逼真的樂器聲音。</li>
        </ul>
        <hr>

        <h2>步驟一：尋找並準備你的音訊樣本</h2>
        <ol>
            <li><strong>尋找樣本</strong>：在網路上尋找單音符的音訊檔案（例如 <code>.wav</code>, <code>.mp3</code>）。像 <code>Freesound.org</code> 這樣的網站是很好的資源。你可以搜尋 "violin C4", "piano samples" 等關鍵字。</li>
            <li><strong>檢查授權</strong>：確保這些音訊檔案的授權允許你自由使用（例如，屬於公共領域 Public Domain 或創用 CC0 授權）。</li>
            <li><strong>整理檔案</strong>：收集你想要使用的音訊檔案。</li>
        </ol>

        <h2>步驟二：將你的音訊檔託管於網路上</h2>
        <p>為了讓積木能夠使用你的樣本，它們必須能透過一個公開的網址存取。使用 GitHub Pages 是一個免費且可靠的方法。</p>
        <ol>
            <li><strong>建立一個新的 GitHub 儲存庫</strong>：前往 GitHub 並建立一個新的<strong>公開 (Public)</strong> 儲存庫（例如，取名為 <code>my-synth-samples</code>）。記得將其初始化，勾選 <code>Add a README file</code>。</li>
            <li><strong>上傳你的檔案</strong>：在你剛建立的儲存庫中，點擊 <code>Add file</code> > <code>Upload files</code> 並將你的樣本檔案拖入。提交變更。</li>
            <li><strong>啟用 GitHub Pages 以獲取基礎網址</strong>：
                <ul>
                    <li>在儲存庫的 `Settings` (設定) 中，前往 `Pages` (頁面) 標籤。</li>
                    <li>在 `Branch` (分支) 下，選擇 `main` (或 `master`)，然後點擊 `Save` (儲存)。</li>
                    <li>頁面刷新後，頂部會出現一個綠色區塊，裡面有你的網站網址。它看起來會像這樣：<br><code>https://&lt;你的GitHub用戶名&gt;.github.io/&lt;你的儲存庫名稱&gt;/</code></li>
                    <li><strong>這就是你的取樣器的「基礎網址」。</strong></li>
                </ul>
            </li>
        </ol>

        <h2>步驟三：在 SynthBlockly 中使用積木</h2>
        <p>從「取樣器」分類中拖出「創建自訂取樣器」積木，並填寫欄位：</p>
        <ul>
            <li><strong>名稱</strong>：為你的樂器取個名字（例如 `MyViolin`）。</li>
            <li><strong>基礎網址</strong>：使用一個文字積木，貼上你從 GitHub Pages 獲得的網址。</li>
            <li><strong>樣本映射</strong>：這是一個 JSON 字串，用來將音符與其對應的音訊檔案進行映射。</li>
        </ul>
        <div class="important">
            <p><strong>格式</strong>：<code>'{"音高_1": "檔案1.wav", "音高_2": "檔案2.mp3"}'</code></p>
            <p><strong>重要提示</strong>：整個字串必須用<strong>單引號</strong> (<code>'</code>) 包裹，而內部的鍵（音高）和值（檔名）必須使用<strong>雙引號</strong> (<code>"</code>)。</p>
        </div>
        <p><strong>範例</strong>：如果你的基礎網址是 <code>https://my-username.github.io/my-samples/</code>，並且你上傳了 <code>violin-a4.wav</code> 和 <code>violin-c5.wav</code>，那麼你的樣本映射應該是：</p>
        <p><code>'{"A4": "violin-a4.wav", "C5": "violin-c5.wav"}'</code></p>

        <p>執行這個積木後，你就可以使用「選擇目前樂器」積木來切換到你剛創建的新樂器並開始彈奏了！</p>

        <h2>支援的音訊格式</h2>
        <p>取樣器支援的音訊格式主要取決於你使用的網頁瀏覽器本身。不過，所有現代瀏覽器（Chrome, Firefox, Safari, Edge）都支援一組標準的音訊格式，包括：</p>
        <ul>
            <li><code>.wav</code>：無壓縮格式，通常音質最好，但檔案也最大。</li>
            <li><code>.mp3</code>：最常見的壓縮格式，相容性極佳。</li>
            <li><code>.m4a</code> (或 <code>.aac</code>)：Apple 生態系常用的壓縮格式。</li>
            <li><code>.ogg</code>：另一種常見的開放原始碼壓縮格式。</li>
            <li><code>.flac</code>：無損壓縮格式，兼具音質與比 WAV 更小的檔案體積。</li>
        </ul>
        <p><strong>建議：</strong> 為了最佳的相容性，通常建議使用 <code>.wav</code> 和 <code>.mp3</code> 格式。</p>
    </div>
</body>
</html>
