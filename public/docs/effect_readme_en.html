<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Audio Effects: Principles and Parameters</title>
    <style>
        body { font-family: sans-serif; line-height: 1.6; padding: 20px; color: #333; }
        h1 { color: #9B59B6; }
        h2 { color: #444; border-bottom: 2px solid #eee; padding-bottom: 5px; }
        .type-box { margin-bottom: 20px; padding: 15px; background: #f9f9f9; border-radius: 8px; }
        .theory { font-size: 0.9em; color: #666; font-style: italic; margin-top: 10px; border-left: 3px solid #ccc; padding-left: 10px; margin-bottom: 10px; }
        .params { font-size: 0.95em; background: #fff; padding: 10px; border-radius: 4px; border: 1px solid #eee; }
        .params strong { color: #9B59B6; }
        .important { background-color: #fffbe6; border-left: 4px solid #ffc107; padding: 15px; margin: 15px 0; border-radius: 0 8px 8px 0; }
        code { background: #eee; padding: 2px 4px; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>Audio Effects: Principles & Parameters</h1>
    <p>Using the "Set Effect" block, you can add professional post-processing to your instruments. Understanding the meaning and range of each parameter will help you shape your sound precisely.</p>

    <div class="important">
        <h3>ðŸ“‚ Usage: Local vs. Global Effects</h3>
        <p>In SynthBlockly, the scope of an effect is determined by its <strong>Container</strong>:</p>
        <ul>
            <li><strong>Local Effect</strong>: Place the effect block inside an <code>Instrument Container</code>. It will only affect that specific instrument.</li>
            <li><strong>Global Effect</strong>: Place the effect block inside the <code>Master Container</code>. It will affect <strong>ALL</strong> sounds before final output.</li>
        </ul>
    </div>

    <div class="type-box">
        <h2>Common Parameter: Wet/Dry Mix</h2>
        <p>This represents the ratio between the original "Dry" signal and the processed "Wet" signal. 0 is all dry, 1 is all wet. Usually, 0.5 provides a clear balance between the original sound and the effect.</p>
    </div>

    <div class="type-box">
        <h2>1. Reverb</h2>
        <div class="theory">
            <strong>Physics</strong>: Simulates the reflection of sound in a physical space, creating a "tail" after the original sound.<br>
            <strong>Signal Processing</strong>: Uses delay matrices to simulate room size and absorption.
        </div>
        <div class="params">
            <strong>Parameters:</strong>
            <ul>
                <li><strong>Decay</strong> [0.1 - 10+ seconds]: Larger values create a bigger space (like a cathedral), smaller values sound like a small room.</li>
                <li><strong>PreDelay</strong> [0 - 0.1 seconds]: The time gap between the original sound and the start of the reverb. Adds clarity.</li>
                <li><strong>Wet</strong> [0 - 1]: The ratio of the processed effect sound.</li>
            </ul>
        </div>
    </div>

    <div class="type-box">
        <h2>2. Feedback Delay</h2>
        <div class="theory">
            <strong>Physics</strong>: Simulates sound waves bouncing off distant objects and returning as echoes.<br>
            <strong>Signal Processing</strong>: Stores signal in a buffer and plays it back, re-routing output to input for repetition.
        </div>
        <div class="params">
            <strong>Parameters:</strong>
            <ul>
                <li><strong>Delay Time</strong> [Musical duration, e.g., 4n, 8n]: The interval between echoes.</li>
                <li><strong>Feedback</strong> [0 - 1]: Determines how many times the echo repeats. Close to 1 means it lasts a very long time.</li>
                <li><strong>Wet</strong> [0 - 1]: Mix between original sound and echoes.</li>
            </ul>
        </div>
    </div>

    <div class="type-box">
        <h2>3. Filter</h2>
        <div class="theory">
            <strong>Physics</strong>: Mimics how materials selectively block certain frequencies.<br>
            <strong>Signal Processing</strong>: Selectively passes or removes specific frequency ranges.
        </div>
        <div class="params">
            <strong>Filter Types:</strong>
            <ul>
                <li><strong>lowpass</strong>: Only allows frequencies below the cutoff. Muffles the sound.</li>
                <li><strong>highpass</strong>: Only allows frequencies above the cutoff. Makes the sound thin and sharp.</li>
                <li><strong>bandpass</strong>: Only allows frequencies near the center. Removes both high and low extremes, like a radio or telephone.</li>
                <li><strong>lowshelf</strong>: Adjusts gain for lower frequencies without cutting them completely. Good for boosting/reducing bass.</li>
                <li><strong>highshelf</strong>: Adjusts gain for higher frequencies. Used for adjusting brightness.</li>
                <li><strong>notch</strong>: Precisely removes frequencies around a specific point. Used to eliminate specific noise or feedback.</li>
                <li><strong>allpass</strong>: Passes all frequencies but changes their phase relationship. Adds texture to the sound.</li>
                <li><strong>peaking</strong>: Boosts or reduces frequencies around a center point. Like a standard EQ band.</li>
            </ul>
            <strong>Parameters:</strong>
            <ul>
                <li><strong>Frequency</strong> [20 - 20000 Hz]: The center or cutoff point for the filter.</li>
                <li><strong>Q (Resonance)</strong> [0.1 - 20]: Intensity of the resonance at the cutoff point. High values create a "whistling" sweep effect.</li>
                <li><strong>Rolloff</strong> [-12, -24, -48]: The steepness of the filter curve.</li>
            </ul>
        </div>
    </div>

    <div class="type-box">
        <h2>4. Distortion</h2>
        <div class="theory">
            <strong>Physics</strong>: Mimics circuit clipping when a signal exceeds hardware limits.<br>
            <strong>Signal Processing</strong>: Non-linearly amplifies the signal to create rich harmonics.
        </div>
        <div class="params">
            <strong>Parameters:</strong>
            <ul>
                <li><strong>Amount</strong> [0 - 1]: The degree of distortion. 0 is subtle saturation, 1 is aggressive growling.</li>
                <li><strong>Oversample</strong>: Improves high-frequency quality and reduces digital aliasing noise.</li>
                <li><strong>Wet</strong> [0 - 1]: Ratio of clean to distorted signal.</li>
            </ul>
        </div>
    </div>

    <div class="type-box">
        <h2>5. Compressor & Limiter</h2>
        <div class="theory">
            <strong>Physics</strong>: Automatic volume control to stabilize sound or prevent peaking.<br>
            <strong>Signal Processing</strong>: Lowers volume by a specific ratio when it exceeds a threshold.
        </div>
        <div class="params">
            <strong>Parameters:</strong>
            <ul>
                <li><strong>Threshold</strong> [-100 - 0 dB]: The volume level where compression starts.</li>
                <li><strong>Ratio</strong> [1 - 20]: The strength of compression. Limiters use a fixed infinite ratio.</li>
                <li><strong>Attack / Release</strong>: How quickly the compression kicks in and fades away.</li>
            </ul>
        </div>
    </div>

    <div class="type-box">
        <h2>6. Modulation (Chorus / Phaser / Tremolo / Panner)</h2>
        <div class="theory">
            <strong>Physics</strong>: Creates movement through periodic changes in time, phase, or volume.
        </div>
        <div class="params">
            <ul>
                <li><strong>Chorus</strong>: Simulates multiple voices playing at once.</li>
                <li><strong>Phaser</strong>: Creates a sweeping, jet-like rotation effect.</li>
                <li><strong>Tremolo</strong>: Rapidly fluctuates the <strong>volume</strong> to create a "shimmering" effect.</li>
                <li><strong>AutoPanner</strong>: Automatically moves the sound between left and right channels.</li>
            </ul>
            <strong>Common Parameters:</strong>
            <ul>
                <li><strong>Frequency</strong> [Hz]: The speed of the modulation cycle. Higher values mean faster movement.</li>
                <li><strong>Depth</strong> [0 - 1]: The intensity of the modulation (e.g., volume swing or panning width).</li>
                <li><strong>Wet</strong> [0 - 1]: Ratio of effect to clean signal.</li>
            </ul>
        </div>
    </div>

    <div class="type-box">
        <h2>7. Lo-Fi Effects</h2>
        <div class="params">
            <strong>Parameters:</strong>
            <ul>
                <li><strong>Bit Depth (Lofi Bits)</strong> [4 - 16]: Lower values create a gritty, 8-bit retro video game sound.</li>
                <li><strong>Wet</strong> [0 - 1]: Ratio of effect to clean signal.</li>
            </ul>
        </div>
    </div>
</body>
</html>